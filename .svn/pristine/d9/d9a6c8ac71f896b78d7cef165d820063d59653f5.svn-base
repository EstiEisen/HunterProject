
<div class="container-fluid">
<p class="title text-center mb-3">עדכון פרטי סוכן</p>
<form #f="ngForm" (ngSubmit)="submit(f.valid)" novalidate>
  <button class="btn btn-primary mb-2" routerLink="/settings/agents">חזרה לטבלה</button>
  <section class="mb-3 mt-3">
    <div class="sub-title-container">
      <div class="horizontal-line"></div>
      <p class="h6 sub-title blue">
        <span>פרטי סוכן</span>
        <span *ngIf="agent.id">- {{ agent.id }}</span>
      </p>
      <div class="horizontal-line"></div>
    </div>
    <div class="row">
      <mat-form-field class="col-md-3">
        <input matInput type="text" [(ngModel)]="agent.name" #name="ngModel" placeholder="שם סוכן" name="name" required>
        <mat-error *ngIf="name.errors && f.submitted">שדה חובה.</mat-error>
      </mat-form-field>
      <mat-form-field class="col-md-3">
        <input matInput type="text" [(ngModel)]="agent.Agentid" #Agentid="ngModel" placeholder="מספר סוכן " name="Agentid" required pattern="^\d{6}$">
        <mat-error *ngIf="Agentid.errors && f.submitted && Agentid.value === ''">שדה חובה.</mat-error>
        <mat-error *ngIf="Agentid.errors && f.submitted && Agentid.value !== ''">מספר סוכן .</mat-error>
      </mat-form-field>
    </div>
   
  </section>
  <section class="mb-3 mt-3">
    <div class="sub-title-container">
      <div class="horizontal-line"></div>
      <p class="h6 sub-title blue">פרטי התקשרות</p>
      <div class="horizontal-line"></div>
    </div>
    <div class="row">
      <mat-form-field class="col-md-3">
        <input matInput type="text" [(ngModel)]="agent.phoneNumber" placeholder="מס' טלפון" name="phone">
      </mat-form-field>
        <mat-form-field class="col-md-3">
        <input matInput type="email" [(ngModel)]="agent.email" #email="ngModel" placeholder="כתובת מייל" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" name="email">
        <mat-error *ngIf="email.errors && email.touched">כתובת מייל לא תקינה.</mat-error>
      </mat-form-field>
      <!-- <mat-form-field class="col">
        <input matInput type="text" [(ngModel)]="employer.secondaryPhone" placeholder="מס' טלפון משני" name="secondaryPhone">
      </mat-form-field> -->
      <mat-form-field class="col-md-3">
        <input matInput type="text" [(ngModel)]="agent.mobile" placeholder="מס' נייד" name="mobile">
      </mat-form-field>
        <mat-form-field class="col-md-3">
        <input matInput type="text" [(ngModel)]="agent.fax" placeholder="מס' פקס" name="fax">
      </mat-form-field>
    </div>
   
    <div class="row">
      <mat-form-field class="col-4">
        <input matInput type="text" [(ngModel)]="agent.address" placeholder="כתובת" name="address">
      </mat-form-field>
      <!-- <mat-form-field class="col-4">
        <input matInput type="number" [(ngModel)]="employer.employeeCount" placeholder="מספר מועסקים" name="employeeCount">
      </mat-form-field> -->
    </div>
  </section>



  
  
    <div class="row">
      <mat-form-field class="col-6 w-100">
        <textarea matInput placeholder="הערות" [(ngModel)]="agent.remarks" name="remarks"></textarea>
      </mat-form-field>
    </div>

  <mat-spinner class="mr-auto ml-auto mb-3" *ngIf="isSubmitting"></mat-spinner>
  <p class="alert alert-danger" *ngIf="isSuccessful === false">קרתה שגיאה, אנא נסה שנית או צור קשר.</p>
  <div class="text-center text-md-left form-actions">
    <button type="submit" class="btn btn-primary">שמור</button>
  </div>
</form>
</div>