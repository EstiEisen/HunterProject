<ng-container *ngIf="!graphOnly">
  <p class="mb-5 title">היזונים חוזרים - גרף</p>

        <app-employers-select2 (changeEmployerEvent)="setEmployer($event)"></app-employers-select2>

  <mat-form-field class="ml-3">
    <mat-select placeholder="בחר שנה" [(ngModel)]="searchCriteria.year" (selectionChange)="setYear($event.value)">
      <mat-option [value]="currentYear">{{ currentYear }}</mat-option>
      <mat-option [value]="currentYear - 1">{{ currentYear - 1 }}</mat-option>
      <mat-option [value]="currentYear - 2">{{ currentYear - 2 }}</mat-option>
      <mat-option [value]="currentYear - 3">{{ currentYear - 3 }}</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field>
    <mat-select multiple placeholder="בחר חודש" [ngModel]="searchCriteria.months" (selectionChange)="setMonths($event.value)">
      <mat-option [value]="0">כל החודשים</mat-option>
      <mat-option *ngFor="let month of months; let i = index" [value]="i+1">{{ month }}</mat-option>
    </mat-select>
  </mat-form-field>
</ng-container>
<div *ngIf="!chartDataReady" >
  <p>לא נמצאו נתונים</p>
</div>
<div >
  <canvas *ngIf="chartDataReady" baseChart [datasets]="chartData" (chartClick)="chartClicked($event)" [labels]="chartLabels" [options]="chartOptions" 
  [legend]="true" [colors]="chartColors" [chartType]="'bar'"></canvas>
</div>
