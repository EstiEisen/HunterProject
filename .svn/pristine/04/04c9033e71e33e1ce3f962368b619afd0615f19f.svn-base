<p class="mb-5 title">היזונים חוזרים - לפי קובץ</p>
<div class="data-table">
  <div class="table-actions">
    <div>
      <mat-form-field class="ml-3">
        <mat-select placeholder="בחר מעסיק" [(ngModel)]="searchCriteria['employerID']">
          <mat-option *ngFor="let employer of employers" [value]="employer.id">{{ employer.name }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field class="ml-3">
        <mat-select placeholder="בחר סטטוס" [(ngModel)]="searchCriteria['status']">
          <mat-option value="successful">נפרעו</mat-option>
          <mat-option value="partial">נפרעו חלקית</mat-option>
          <mat-option value="failed">לא נפרעו</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="ml-3">
        <mat-select placeholder="בחר חברה מנהלת" [(ngModel)]="searchCriteria['company']">
          <mat-option *ngFor="let company of companies" [value]="company.id">{{ company.name }}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="ml-3">
        <mat-select placeholder="בחר שנה" [(ngModel)]="searchCriteria.year">
          <mat-option [value]="currentYear">{{ currentYear }}</mat-option>
          <mat-option [value]="currentYear - 1">{{ currentYear - 1 }}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select multiple placeholder="בחר חודש" [ngModel]="searchCriteria['months']" (selectionChange)="setMonths($event.value)">
          <mat-option value="full">כל החודשים</mat-option>
          <mat-option *ngFor="let month of months" [value]="month">{{ month }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
  <table class="table table-bordered table-striped">
    <thead>
    <tr>
      <th>שם תהליך</th>
      <th>שם יצרן</th>
      <th>מספר קופה בשכר</th>
      <th>סוג</th>
      <th>חשבון בנק</th>
      <th>תאריך שידור</th>
      <th>סכום תשלום</th>
      <th>קובץ שנשלח</th>
      <th>תקינות טכנית</th>
      <th>היזון מסכם</th>
      <th>סטטוס טיפול</th>
      <th>פירוט עובדים</th>
      <th>הערות</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of items">
      <td>{{ item.process.addToProcessName }}</td>
      <td>{{ item.manufacturer.name }}</td>
      <td></td>
      <td>{{ product.labels['types'][product.productType[item.productType]] }}</td>
      <td>{{ item.accountNumber }}</td>
      <td></td>
      <td>{{ item.sumFile }}</td>
      <td>{{ item.fileName }}</td>
      <td>{{ item.xmlReturnStatus }}</td>
      <td>{{ item.manualStatusUpdate }}</td>
      <td class="text-center">
          <span class="badge" [ngClass]="{ 'badge-success': item.status === 'successful' , 'badge-warning':
          item.status === 'partial', 'badge-danger': item.status === 'failed' }">{{ statusLabels[item.status] }}</span>
      </td>
      <td class="text-center row-actions">
        <i class="fa fa-exclamation-circle" (click)="openDetailsDialog(item)"></i>
      </td>
      <td></td>
    </tr>
    </tbody>
  </table>
  <app-pagination [data]="paginationData" (isLinkClicked)="paginateItems()" *ngIf="items.length > 0"></app-pagination>
</div>
