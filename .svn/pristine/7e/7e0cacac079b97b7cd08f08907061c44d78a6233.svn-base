<i class="fa fa fa-times pointer mb-3" (click)="onCloseClicked()"   aria-hidden="true"></i>

<section mat-dialog-content xmlns="http://www.w3.org/1999/html">
  <section class="pt-3 pb-3">
    <p class="title text-center">בחירת עובד</p>
    <div class="row">
      <div class="col">
        <!--<mat-select placeholder="בחר עובד">-->
          <!--<mat-option *ngFor="let employee of employees" [value]="employee.id">{{ employee.firstName + ' ' + employee.lastName }}</mat-option>-->
        <!--</mat-select>-->

        <select2 class="" [data]="employeesSelect2" [options]="select2Options" (valueChanged)="onEmployeeValueChanged($event.value)" #select2></select2>



      </div>
      <div class="col text-left">
        <button class="btn btn-primary" (click)="createNewEmployeeOnClick()">
          {{isClicked ? 'ביטול' : 'צור עובד חדש'}}
        </button>
      </div>
    </div>

    <div *ngIf="isClicked">
    <form #f="ngForm" >
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" name="empFirstName" #empFirstName="ngModel" placeholder="שם פרטי" [(ngModel)]="payment.employee.firstName" required>
        <mat-error *ngIf="empFirstName.errors && empFirstName.touched">
          יש להזין שם פרטי
        </mat-error>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" name="empLastName" #empLastName="ngModel" placeholder="שם משפחה" [(ngModel)]="payment.employee.lastName" required>
        <mat-error *ngIf="empLastName.errors && empLastName.touched">
          יש להזין שם משפחה
        </mat-error>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" name="empIdentityNum" #empIdentityNum="ngModel" placeholder="תעודת זהות" [(ngModel)]="payment.employee.identityNumber" required>
        <mat-error *ngIf="empIdentityNum.errors && empIdentityNum.touched">
          יש להזין תעודת זהות
        </mat-error>
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" name="empEmail" #empEmail="ngModel" placeholder="אימייל" [(ngModel)]="payment.employee.email">
        <!-- <mat-error *ngIf="newEmployeeForm.controls['empEmail'].hasError('required')">
          יש להזין אימייל
        </mat-error> -->
      </mat-form-field>

      <mat-form-field class="col">
        <input matInput type="text" name="empPhone" #empPhone="ngModel" placeholder="טלפון" [(ngModel)]="payment.employee.phone">
        <!-- <mat-error *ngIf="newEmployeeForm.controls['empPhone'].hasError('required')">
          יש להזין טלפון
        </mat-error> -->
      </mat-form-field>
    </div>
    </form>
    </div>

  </section>
  <section class="pt-3 pb-3">
    <form #f2="ngForm">

    <p class="title text-center">הוספת תשלום</p>


    <div class="row">
      <div class="col">
        <select2 dir="rtl" class="" [data]="manufacturersSelect2" [options]="select2Options" (valueChanged)="onManufValueChanged($event.value)" #select2></select2>
      </div>
      <div class="col">
        <select2 dir="rtl" class="" [data]="productsSelect2" [options]="select2Options" (valueChanged)="onProductValueChanged($event.value)" #select2></select2>
      </div>
    </div>


    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="שכר" name="salary" #salary="ngModel" [(ngModel)]="payment.Salary">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="מס' פוליסה" name="kodPolisa" #kodPolisa="ngModel" [(ngModel)]="payment.KodPolisa">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="תשלום עובד" name="sumOved" #sumOved="ngModel" [(ngModel)]="payment.SumOved">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="תשלום מעביד" name="sumMaasik" #sumMaasik="ngModel" [(ngModel)]="payment.SumMaasik">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="פיצויים" name="sumPitzuim" #sumPitzuim="ngModel" [(ngModel)]="payment.SumPitzuim">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="אובדן כושר עבודה" name="ovdanKosher" #ovdanKosher="ngModel" [(ngModel)]="payment.OvdanKosher">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder='אכ"ע עובד' name="sumTagmulimPrat" #sumTagmulimPrat="ngModel" [(ngModel)]="payment.SumTagmulimPrat">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="תגמולים" name="sumTagmulim" #sumTagmulim="ngModel" [(ngModel)]="payment.SumTagmulim">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="שונות עובד" name="shonotOved" #shonotOved="ngModel" [(ngModel)]="payment.ShonotOved">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="שונות מעביד" name="shonotMaasik" #shonotMaasik="ngModel" [(ngModel)]="payment.ShonotMaasik">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור עובד" name="exemptSumOved" #exemptSumOved="ngModel" [(ngModel)]="payment.ExemptSumOved">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור מעביד" name="exemptSumMaasik" #exemptSumMaasik="ngModel" [(ngModel)]="payment.ExemptSumMaasik">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור לפיצויים" name="exemptSumLepizuyim" #exemptSumLepizuyim="ngModel" [(ngModel)]="payment.ExemptSumLepizuyim">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור אובדן כושר" name="exemptSumTagmulim" #exemptSumTagmulim="ngModel" [(ngModel)]="payment.ExemptSumTagmulim">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder='סך תשלום פטור אכ"ע עובד' name="exemptSumTagmulimPrat" #exemptSumTagmulimPrat="ngModel" [(ngModel)]="payment.ExemptSumTagmulimPrat">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור תגמולים" name="exemptSumOvdanKosherAvoda" #exemptSumOvdanKosherAvoda="ngModel" [(ngModel)]="payment.ExemptSumOvdanKosherAvoda">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור שונות עובד" name="exemptSumShonotOved" #exemptSumShonotOved="ngModel" [(ngModel)]="payment.ExemptSumShonotOved">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור שונות מעביד" name="exemptSumShonotMaasik" #exemptSumShonotMaasik="ngModel" [(ngModel)]="payment.ExemptSumShonotMaasik">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
    </div>
    <div class="row">
      <!--<mat-form-field class="col">-->
        <!--<input matInput type="text" placeholder="סוג תקבול" [(ngModel)]="payment.sugTakbul">-->
        <!--<i class="fa fa-ils" matSuffix></i>-->
      <!--</mat-form-field>-->
      <mat-form-field class="col">
        <mat-select placeholder="סוג תקבול" name="SugTakbul" #SugTakbul="ngModel" [(ngModel)]="payment.sugTakbul" required>
          <mat-option *ngFor="let sug of sugTakbulOption" [value]="sug.Value">
            {{ sug.Key }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="col">
        <!--<input matInput type="text" placeholder="מעמד הפקה בקופה" [(ngModel)]="payment.statusdeposit">-->
        <mat-select placeholder="מעמד הפקה בקופה" name="StatusDeposit" #StatusDeposit="ngModel" [(ngModel)]="payment.statusDeposit" required>
          <mat-option *ngFor="let status of statusDepositOption" [value]="status.Value">
            {{ status.Key }}
          </mat-option>
        </mat-select>

      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <!--<input matInput type="text" placeholder="תאריך עדכון סטטוס" [(ngModel)]="payment.statusUpdatedAt">-->

        <input matInput [matDatepicker]="pickerStatusUpdatedAt" name="statusUpdatedAtDate" #statusUpdatedAtDate="ngModel" placeholder="תאריך עדכון סטטוס" [(ngModel)]="StatusUpdatedAtDate" required>
        <mat-datepicker-toggle matSuffix [for]="pickerStatusUpdatedAt"></mat-datepicker-toggle>
        <mat-datepicker #pickerStatusUpdatedAt></mat-datepicker>

      </mat-form-field>
      <mat-form-field class="col">
        <!--<input matInput type="text" placeholder="סטטוס עובד בחודש" [(ngModel)]="payment.StatusWorksInSalary">-->

        <mat-select placeholder="סטטוס עובד בחודש" name="worksInSalary" #worksInSalary="ngModel" [(ngModel)]="payment.WorksInSalary" required>
          <mat-option *ngFor="let status of worksInSalaryOption" [value]="status.Value">
            {{ status.Key }}
          </mat-option>
        </mat-select>

      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="ימי עבודה בחודש" name="workingDaysMonthly" #workingDaysMonthly="ngModel" [(ngModel)]="payment.WorkingDaysMonthly">

      </mat-form-field>
       <mat-form-field class="col">
        <input matInput type="text" placeholder="חלקיות משרה %" name="partjobs" #partjobs="ngModel" [(ngModel)]="payment.Partjobs">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <!-- <input matInput type="text" placeholder="תאריך ייחוס" [(ngModel)]="payment.TaarichErech"> -->
          <input matInput [matDatepicker]="pickerTaarichErech" name="taarichErechDate" #taarichErechDate="ngModel"  placeholder="תאריך ייחוס" [(ngModel)]="TaarichErechDate" required>
          <mat-datepicker-toggle matSuffix [for]="pickerTaarichErech"></mat-datepicker-toggle>
          <mat-datepicker #pickerTaarichErech></mat-datepicker>
      </mat-form-field>
    </div>


</form>
  </section>




</section>

<section class="justify-content-end" mat-dialog-actions>
  <!--<button class="btn btn-primary" mat-dialog-close (click)="onSubmitForm()" [disabled]="isClicked &&  empPaymentForm.invalid">שמור</button>-->
  <button class="btn btn-primary" (click)="onSubmitForm()" >שמור</button>
</section>
