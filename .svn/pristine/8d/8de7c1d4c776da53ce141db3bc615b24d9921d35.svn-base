import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';
import {Select2OptionData} from 'ng2-select2';
import {ContactService} from '../../_services/http/contact.service';
import {UserSessionService} from '../../../shared/_services/user-session.service';
import {EmployeeFeedback} from '../../../shared/_models/employee-feedback.model';
import {Contact} from '../../../shared/_models/contact.model';

@Component({
  selector: 'app-feedback-employee-application',
  templateUrl: './feedback-employee-application.component.html',
  styleUrls: ['./feedback-employee-application.component.css']
})
export class FeedbackEmployeeApplicationComponent implements OnInit {
  @Output() closeApplication = new EventEmitter<number>();
  @Input() headerText: string;
  @Input() feedback: EmployeeFeedback;
 // @Input() employerId: number;

  contacts:  Contact[] = [];
  files:  Select2OptionData[] = [];
  file2: File = <File>{};
  searchCriteria = {};
  constructor(private contactService: ContactService, private userSession: UserSessionService) { }

  setContacts(ids: number[]): void {
    console.log(this.file2);
  }




  ngOnInit() {
    this.contactService.getContacts(this.userSession.getToken())
      .then(response => {
        this.contacts = response;
      });
  }

  onCloseClicked(): void {
    this.closeApplication.emit(0);
  }


}
