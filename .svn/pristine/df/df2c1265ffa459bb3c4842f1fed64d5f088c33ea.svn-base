<section mat-dialog-content xmlns="http://www.w3.org/1999/html">
  <section class="pt-3 pb-3">
    <p class="title text-center">בחירת עובד</p>
    <div class="row">
      <div class="col">
        <!--<mat-select placeholder="בחר עובד">-->
          <!--<mat-option *ngFor="let employee of employees" [value]="employee.id">{{ employee.firstName + ' ' + employee.lastName }}</mat-option>-->
        <!--</mat-select>-->

        <select2 class="" [data]="employeesSelect2" [options]="select2Options" (valueChanged)="onEmployeeValueChanged($event.value)" #select2></select2>



      </div>
      <div class="col text-left">
        <button class="btn btn-primary" (click)="createNewEmployeeOnClick()">
          {{isClicked ? 'ביטול' : 'צור עובד חדש'}}
        </button>
      </div>
    </div>

    <div *ngIf="isClicked">
    <form [formGroup]="empPaymentForm" (ngSubmit)="onSubmit(onSubmitForm)">
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" formControlName="empFirstName" placeholder="שם פרטי *" [(ngModel)]="payment.employee.firstName">
        <mat-error *ngIf="empPaymentForm.controls['empFirstName'].hasError('required')">
          יש להזין שם פרטי
        </mat-error>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" formControlName="empLastName" placeholder="שם משפחה *" [(ngModel)]="payment.employee.lastName">
        <mat-error *ngIf="empPaymentForm.controls['empLastName'].hasError('required')">
          יש להזין שם משפחה
        </mat-error>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" formControlName="empIdentityNum" placeholder="תעודת זהות *" [(ngModel)]="payment.employee.identityNumber">
        <mat-error *ngIf="empPaymentForm.controls['empIdentityNum'].hasError('required')">
          יש להזין תעודת זהות
        </mat-error>
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" formControlName="empEmail" placeholder="אימייל *" [(ngModel)]="payment.employee.email">
        <mat-error *ngIf="empPaymentForm.controls['empEmail'].hasError('required')">
          יש להזין אימייל
        </mat-error>
      </mat-form-field>

      <mat-form-field class="col">
        <input matInput type="text" formControlName="empPhone" placeholder="טלפון *" [(ngModel)]="payment.employee.phone">
        <mat-error *ngIf="empPaymentForm.controls['empPhone'].hasError('required')">
          יש להזין טלפון
        </mat-error>
      </mat-form-field>
    </div>
  </form>

    </div>
  </section>
  <section class="pt-3 pb-3">
    <p class="title text-center">הוספת תשלום</p>


    <div class="row">
      <div class="col">
        <select2 dir="rtl" class="" [data]="manufacturersSelect2" [options]="select2Options" (valueChanged)="onManufValueChanged($event.value)" #select2></select2>
      </div>
      <div class="col">
        <select2 dir="rtl" class="" [data]="productsSelect2" [options]="select2Options" (valueChanged)="onProductValueChanged($event.value)" #select2></select2>
      </div>
    </div>


    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="שכר" [(ngModel)]="payment._salary">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="מס' פוליסה" [(ngModel)]="payment._KOD_POLISA">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="תשלום עובד" [(ngModel)]="payment._S_OVED">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="תשלום מעביד" [(ngModel)]="payment._S_MAASIK">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="פיצויים" [(ngModel)]="payment._S_LEPIZUYIM">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="אובדן כושר עבודה" [(ngModel)]="payment._S_OVDAN_KOSHER_AVODA">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder='אכ"ע עובד' [(ngModel)]="payment._S_TAGMULIM_PRAT">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="תגמולים" [(ngModel)]="payment._S_TAGMULIM">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="שונות עובד" [(ngModel)]="payment._S_SHONOT_MAASIK">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="שונות מעביד" [(ngModel)]="payment._S_SHONOT_OVED">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור עובד" [(ngModel)]="payment.exemptS_OVED">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור מעביד" [(ngModel)]="payment.exemptS_MAASIK">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור לפיצויים" [(ngModel)]="payment.exemptS_LEPIZUYIM">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור אובדן כושר" [(ngModel)]="payment.exemptS_TAGMULIM">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder='סך תשלום פטור אכ"ע עובד' [(ngModel)]="payment.exemptS_TAGMULIM_PRAT">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור תגמולים" [(ngModel)]="payment.exemptS_OVDAN_KOSHER_AVODA">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור שונות עובד" [(ngModel)]="payment.exemptS_SHONOT_OVED">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סך תשלום פטור שונות מעביד" [(ngModel)]="payment.exemptS_SHONOT_MAASIK">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סוג תקבול" [(ngModel)]="payment.sugTakbul">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="מעמד הפקה בקופה" [(ngModel)]="payment.statusdeposit">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="תאריך עדכון סטטוס" [(ngModel)]="payment.statusUpdatedAt">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
      <mat-form-field class="col">
        <input matInput type="text" placeholder="סטטוס עובד בחודש" [(ngModel)]="payment.StatusWorksInSalary">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="ימי עבודה בחודש" [(ngModel)]="payment.monthlyWorkDays">
        <i class="fa fa-ils" matSuffix></i>
      </mat-form-field>
       <mat-form-field class="col">
        <input matInput type="text" placeholder="חלקיות משרה %" [(ngModel)]="payment.partialJobPercentage">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <input matInput type="text" placeholder="תאריך ייחוס" [(ngModel)]="payment._TAARICH_ERECH">
      </mat-form-field>
    </div>
  </section>
</section>
<section class="justify-content-end" mat-dialog-actions>
  <button class="btn btn-primary" mat-dialog-close (click)="onSubmitForm()" [disabled]="isClicked &&  empPaymentForm.invalid">שמור</button>
</section>
