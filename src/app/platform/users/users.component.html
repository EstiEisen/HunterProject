<div class="mr-5 px-4">
  <app-data-table tableName="משתמשים" [columns]="columns" (fetchItems)="fetchItems()" [hasActionsHeader]="isDisplay" [hasActiveSwitch]="true" >
    <div class="table-header">
      <div class="row">
        <div class="float-left">
          <p>במסך זה ניתן לנהל ולערוך את כלל המשתמשים במערכת</p>
        </div>
      </div>
      <div class="row mr-1">
        <div class="ml-3 d-flex mr-auto">
          <button class="btn bold pr-3 pl-3 white-btn"   [routerLink]="['./', 'form']" *ngIf="isDisplay"> <img src="../../../assets/img/icons/plus-solid.png"> הוסף משתמש</button>
        </div>
      </div>
    </div>

    <tr *ngFor="let item of dataTable.items; let i=index" >
      <td [ngClass]="{'white': i%2 === 0}">{{ item.created_at | date: 'dd/MM/yyyy'}}</td>
      <td [ngClass]="{'white': i%2 === 0}">{{ item.first_name }}</td>
      <td [ngClass]="{'white': i%2 === 0}"> {{ item.last_name}}</td>
      <td [ngClass]="{'white': i%2 === 0}"> {{ item.phone}}</td>
      <td [ngClass]="{'white': i%2 === 0}">{{ item.email }}</td>
      <td [ngClass]="{'white': i%2 === 0}">{{ item.role }}</td>
      <td  *ngIf="isDisplay" [ngClass]="{'white': i%2 === 0}" >
        <img title="עריכת משתמש" *ngIf="dataTable.isActive" src="../../../assets/img/icons/pencil-alt-regular.png" style="width:18px;height:18px; margin-left: 10px;" [routerLink]="['./', 'form', item.id]" class="row-image pointer">
        <i class="fa fa-trash mr-1 ml-1 fa-1x pointer" title="הפוך ללא פעיל"  *ngIf="dataTable.isActive" (click)="deleteUser(item)"></i>
        <span *ngIf="dataTable.isActive && !item.is_registered" class="ResetPassword pointer" aria-hidden="true"
           (click)="register(item)">אפס סיסמא</span>
        <i aria-hidden="true" title="שחזור משתמש" class="fa fa-repeat ml-2 pointer" *ngIf="!dataTable.isActive" (click)="restoreUser(item)"></i>
      </td>
    </tr>
  </app-data-table>
</div>

