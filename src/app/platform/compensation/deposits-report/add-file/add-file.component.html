
<div class="dialog-header">
  <button mat-dialog-close>
    <i class="fa fa-close"></i>
  </button>  <span>הוספת קבצים</span>
</div>
<div class="d-flex align-items-center py-4">

  <div class="w-50">
    <label class="file-label">
      <img src="/assets/img/icons/circle_arrow_up.png">
      <span class="file-label-text">{{ uploadedFile ? (uploadedFile.name | truncate: 25) : 'העלאת קובץ חדש' }}</span>
      <input type="file" (change)="uploadedFile = $event.target.files[0]">
    </label>
  </div>
  <div class="w-50">
    <mat-form-field>
      <input matInput type="text" placeholder="תאור קובץ"  name="description" [(ngModel)]="description">
    </mat-form-field>
  </div>
</div>
<div mat-dialog-actions class="justify-content-center">
  <button class="btn blue-btn" (click)="submit()">הוספה</button>
</div>

<app-data-table tableName="מעקב יתרות לפיצוים" [columns]="columns" (fetchItems)="fetchItems()" [hasCheckColumn]="false" [hasActionsHeader] = false>
  <div class="table-header">
    <div class="row mt-4 mr-1">
      <div class="float-left">
        <button [matMenuTriggerFor]="menu" class="btn blue-btn mr-2">פעולות</button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="openFormDialog()">בקשה חדשה</button>
          <button mat-menu-item (click)="openExcelDialog()"> העלאת קובץ בקשות </button>
          <button mat-menu-item (click)="openExcelEmployeesDialog()">העלאת קובץ עובדים</button>
          <button mat-menu-item (click)="manualChangingStatus()">שינוי סטטוס</button>
        </mat-menu>
      </div>
      <div class="ml-3 d-flex mr-auto">
        <button class="btn blue-btn " (click)="sendCompensations()">שדר בקשה</button>
      </div>
    </div>
  </div>
  <tr *ngFor="let item of dataTable.items" class="pointer" [ngClass]="{ 'checked': item.checked }">
    <td>{{ item.name }}</td>
    <td>{{ item.ext }}</td>
    <td>{{ item.description }}</td>
    <td>{{ item.created_at }}</td>
    <td>
      <i class="fa fa-download fa-lg ml-2" (click)="downloadFile(item, '')" ></i>
      <i class="fa fa-times-circle fa-lg" (click)="deleteFile(item.id)" ></i>
    </td>
  </tr>
</app-data-table>
