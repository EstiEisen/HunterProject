<form #form="ngForm" class="mt-3" (ngSubmit)="submit(form)">
  <h6 class="bold">כרטיס מחלקה</h6>
  <div class="d-flex w-50 mt-1">
    <mat-form-field class="ml-2 disabledInput" >
      <input matInput placeholder="מספר מחלקה" name="id" [ngModel]="department.id">
    </mat-form-field>
    <mat-form-field >
      <input matInput placeholder="שם מחלקה" name="name"  [(ngModel)]="department.name" required>
      <mat-error>שדה חובה.</mat-error>
    </mat-form-field>
  </div>

  <!--<button class="btn blue-btn ml-1" (click)="openBankAccountDialog()"> הוספת חשבון חדש </button>-->

  <p class="border-bottom f-14 bold ">חשבון בנק משלם</p>
  <div id="accounts" class="border-bottom mb-lg-3">
      <div class="d-flex align-items-center">
        <div class="d-flex align-items-center" [ngClass]="{'disabledInput' : !isEdit}">
          <div class="bd-select-container">
            <bd-select name="bank_id"  [items]="banks" #bankIDSelect="ngModel" [(ngModel)]="department.bank_account_deposit.bank_id" placeholder="בחר בנק" (onSelect)="selectedBankBranch()" required></bd-select>
            <mat-error [@fade]="bankIDSelect.errors && form.submitted ? 'active' : 'inactive'">שדה חובה. </mat-error>
          </div>
          <div class="mx-3 bd-select-container">
            <bd-select name="branch_id"  [items]="bankBranchesDeposit" #branchIDSelect="ngModel" [(ngModel)]="department.bank_account_deposit.branch_id"  placeholder="בחר סניף" required></bd-select>
            <mat-error [@fade]="branchIDSelect.errors && form.submitted ? 'active' : 'inactive'">שדה חובה. </mat-error>
          </div>
          <mat-form-field>
            <input matInput type="text" name="number" placeholder="מס' חשבון" [(ngModel)]="department.bank_account_deposit.number" maxlength="9" pattern="^\d{5,9}$" required>
            <mat-error>יש להקיש מעל 5 ספרות.</mat-error>
          </mat-form-field>
        </div>
        <div>
          <img src="/assets/img/icons/edit_grey.png" class="row-image" (click)="isEdit = true">
        </div>
      </div>
  </div>

  <p class="border-bottom f-14 bold">חשבון בנק להחזר כספים</p>
  <div id="accountsWithdrawal" class="border-bottom">
    <div class="d-flex align-items-center">
      <div class="d-flex align-items-center" [ngClass]="{'disabledInput' : !isEditWithdrawal}">
        <div class="bd-select-container">
          <bd-select name="bank_id_withdrawal"  [items]="banks" #bankIDWithdrawalSelect="ngModel" [(ngModel)]="department.bank_account_withdrawal.bank_id" placeholder="בחר בנק" (onSelect)="selectedBankBranch('Withdrawal')" required></bd-select>
          <mat-error [@fade]="bankIDWithdrawalSelect.errors && form.submitted ? 'active' : 'inactive'">שדה חובה. </mat-error>
        </div>
        <div class="mx-3 bd-select-container">
          <bd-select name="branch_id_withdrawal"  [items]="bankBranchesWithdrawal" #branchIDWithdrawalSelect="ngModel" [(ngModel)]="department.bank_account_withdrawal.branch_id"  placeholder="בחר סניף" required></bd-select>
          <mat-error [@fade]="branchIDWithdrawalSelect.errors && form.submitted ? 'active' : 'inactive'">שדה חובה. </mat-error>
        </div>
        <mat-form-field>
          <input matInput type="text" name="number_withdrawal" placeholder="מס' חשבון" [(ngModel)]="department.bank_account_withdrawal.number" maxlength="9" pattern="^\d{5,9}$" required>
          <mat-error>יש להקיש מעל 5 ספרות.</mat-error>
        </mat-form-field>
      </div>
      <div>
        <img src="/assets/img/icons/edit_grey.png"  class="row-image" (click)="isEditWithdrawal = true">
      </div>
    </div>
  </div>
  <p class="alert alert-danger" [@fade]="hasServerError ? 'active' : 'inactive'">שגיאת שרת, נסה שנית או צור קשר.</p>
  <button class="btn blue-btn ml-1 mt-1" type="submit"> שמור </button>
</form>
