<div class="dialog-header">
  <button mat-dialog-close>
    <i class="fa fa-close"></i>
  </button>
  <span>פרטים</span>
</div>
<form #form="ngForm" class="py-4">
  <div class="d-flex align-items-center mb-3">
    <div class="bd-select-container mr-3">
      <bd-select [items]="departments" name="department"
                 #departmentSelect="ngModel"  [(ngModel)]="department"
                 placeholder="בחר מחלקה" class="mb-lg-4 w-50"
                 [error]="departmentSelect.errors && form.submitted"  required></bd-select>

    </div>
    <mat-form-field class="mr-1">
      <input matInput type="email" name="email"  placeholder="מייל" [(ngModel)]="email" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" required>
    </mat-form-field>
    <i type="submit"  class="fa fa-plus-circle pointer blue-color p-4 h6" title="שמירה" (click)="submit(form)"></i>
  </div>

  <table class="mt-2 table table-bordered table-hover">
    <thead>
    <tr>
      <td>שם מחלקה</td>
      <td>מייל</td>
      <td>פעולות</td>

    </tr>
    </thead>
    <tr *ngFor="let item of email_dep" class="pointer">
      <td>{{ item.name }}</td>
      <td>{{ item.email }}</td>
      <td>
        <i class="fa fa-times-circle fa-lg" (click)="deleteEmail(item.id)" ></i>
      </td>
    </tr>
  </table>
  <p class="alert alert-danger" [@fade]="hasServerError ? 'active' : 'inactive'">אין לשייך אותו מייל לשתי מחלקות/למעסיקים עם ח.פ תואם</p>
</form>
