<div  class="container mt-lg-8 w-30">
  <h3 class="bold blue-color font-rubik"> העלאת אסמכתא</h3>
  <h3 class="bold font-rubik">{{ employerComponent.process_details.employer_name }}
    - {{months[processDataService.activeProcess.month-1] + ' ' +processDataService.activeProcess.year  }}</h3>

  <div class="mt-5 mb-2">
    <div>שלום מעסיק יקר! כעת, בשלב זה עלייך לעלות אסמכתא ולאשר את התשלום</div>
    <div>לקופות בפעול. בנוסף באפשרותך לשנות תאריך ערך.</div>
  </div>

  <div class="row">

    <div class="d-flex mt-1 col-9">
      <span class="f-14 bold line-height-4point ml-1">תאריך ותשלום ערך:</span>
      <mat-form-field>
        <input matInput class="pointer" (click)="datePickerRequest.open()" [(ngModel)]="date" [max]="today"   [matDatepicker]="datePickerRequest"
               placeholder="בחר תאריך" name="dateRequest" readonly>
        <mat-datepicker-toggle matSuffix [for]="datePickerRequest"></mat-datepicker-toggle>
        <mat-datepicker #datePickerRequest></mat-datepicker>
      </mat-form-field>
      <img src="/assets/img/icons/save icon.svg" (click)="date ? save(): false"/>
    </div>
    <div class="col-3 pr-0">
      <button class="btn mb-2 btn_payment col-12 min-width-0" (click)="openRow()">
        <div class="row">
          <div class="col-7 f-14 pr-5">
            <span class="row">לצפייה</span>
            <span class="row">ואישורי</span>
            <span class="row"> העברות</span>
          </div>
          <div class="col-3 center">
            <i class="fa fa-angle-left fa-circle-me font-weight-bolder"></i>
          </div>
        </div>
      </button>
    </div>
  </div>

  <div class="mt-5 text-center attach" >
      <div class="text-left btn-remove">
        <button class="btn grey-btn btn-sm" (click)="files = []">מחק</button>
      </div>
    <div class="mb-2 file-drop-reference">
      <file-drop ng2FileDrop (onFileDrop)="getFileFromDrop($event)" >
        <label class="text-center pointer mt-5" *ngIf="files == null || files.length == 0"
               (change)="setFile($event.target.files)">
          <img src="/assets/img/icons/cloud.svg" class="mb-1 icon-lg">
          <p class="font-small black-color bold">העלאת אסמכתא</p>
          <p class="f-12 black-color"> גרור קבצים לכאן או בחר קובץ להעלאה</p>
          <input type="file" #fileInput multiple="true" >
        </label>
        <div class="text-center mt-5" *ngIf="files.length == 0? false : true">
          <i class="fa fa-check-circle-o mb-3"></i>
          <p class="text-dark">העלו <span> {{ files.length }} </span>קבצים </p>
          <p class="text-dark">{{ files[0].name }}</p>
        </div>
      </file-drop>
    </div>
    <mat-checkbox  [(ngModel)]="valid" name="checkConfirm">
      <div class="text-wrap text-right mt-4">
        <p class="f-12">הנני מאשר כי פרטי התשלום המוצגים הלאה נבדקו מול תוכנת השכר והנם תקינים.
          בשידור לקופות הקבצים יועברו על פי הנתונים הקיימים ופעולה זו אינה ניתנת לביטול.</p>
      </div>
    </mat-checkbox>
    <button class="btn blue-btn mt-2p2" (click)="confirmPayment()"
            *ngIf="!this.is_save_date || !this.is_upload_ref">אשר תשלום</button>
    <button class="btn blue-btn mt-2p2" (click)="continueBroadcasting()"
            *ngIf="this.is_save_date && this.is_upload_ref">המשך</button>

  </div>
</div>
