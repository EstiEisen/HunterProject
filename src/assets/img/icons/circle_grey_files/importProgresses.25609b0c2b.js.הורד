!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(3),i=!!n.a&&!!n.a.features&&!!n.a.features.webviews,s=!!n.a&&!!n.a.features&&!!n.a.features.figma,a={},c=30*Math.PI,d=s?"subscribe-to-imports":"subscribe-to-exports",u=s?"imports-change":"exports-change",l=s?"imports-started":"exports-started",p=s?"clear-imports":"clear-exports",g=s?"retry-import":"retry-export",m=s?"cancel-import":"cancel-export",f="retry-getting-project",h=document.getElementById("importProgressesBox"),y=document.getElementById("importProgresses"),v=document.getElementById("importProgressTemplate"),I=document.getElementById("importProgressProjectGroupTemplate"),P=document.getElementById("importSource"),x=document.getElementById("importDestination"),b=document.getElementById("importProgressesButton"),k=document.getElementById("importProgressesContainer"),L=document.getElementById("clearImportProgresses"),w=document.getElementById("importsProgressBar"),j=document.getElementById("notificationContainer"),B=document.getElementById("userMenu");function A(e){return e.progress.isApiOperationCompleted?100:Math.floor(e.progress.countOfUploadedImages/(e.progress.countOfImagesToUpload+1)*100)}function E(e){return function(t){var r=document.importNode(v.content,!0),n=r.querySelector(".importProgress");n.dataset.screenImportId=t._id,!function(e){return e.isGettingProject&&!e.isGettingProjectFailed}(t.progress)?!function(e){return e.isGettingProject&&e.isGettingProjectFailed}(t.progress)?(n.dataset.projectId=t.project._id,n.dataset.screenId=t.screen._id,t.progress.update?n.classList.add("updateScreen"):n.classList.add("newScreen"),r.querySelector(".screenName").textContent=t.screen.name,t.progress.isApiOperationFailed?r.querySelector(".importProgressBar").style.width="0%":r.querySelector(".importProgressBar").style.width=A(t)+"%",!function(e){return e.countOfUploadedImages===e.countOfImagesToUpload&&e.isApiOperationCompleted&&!e.isApiOperationFailed}(t.progress)?!function(e){return e.isApiOperationFailed}(t.progress)?!function(e){return e.countOfUploadedImages===e.countOfImagesToUpload&&!e.isApiOperationCompleted}(t.progress)?function(e){return e.countOfUploadedImages<e.countOfImagesToUpload&&!e.isApiOperationCompleted}(t.progress)&&(n.classList.add("uploadingImagesStep"),r.querySelector(".uploadedImages").textContent=t.progress.countOfUploadedImages,r.querySelector(".allImages").textContent=t.progress.countOfImagesToUpload):n.classList.add("ticklingTheBackendStep"):n.classList.add("importProgressFailed"):(a[t._id]||(a[t._id]=function(){switch(Math.floor(100*Math.random())){case 0:return"message1";case 1:case 2:return"message2";case 3:case 4:return"message3";default:return"message4"}}()),n.classList.add(a[t._id]),n.classList.add("importProgressDone"))):n.classList.add("gettingProjectFailed"):n.classList.add("gettingProject"),e?e.appendChild(r):document.querySelector('.importProgressProjectGroup[data-pid="'+t.project._id+'"] .importProgressesOfProject').appendChild(r)}}function C(e){var t=document.importNode(I.content,!0);t.querySelector(".projectInformation").textContent=e.name+", "+e.type,t.querySelector(".importProgressProjectGroup").dataset.pid=e._id,y.appendChild(t)}function O(e,t){if(0===t.length)return b.classList.add("hidden"),void k.classList.add("hidden");y.style.height="auto",b.classList.remove("hidden"),y.innerHTML="";var r=t.reduce(function(e,t,r){return{projects:e.projects.find(function(e){return e._id===t.project._id})?e.projects:e.projects.concat(t.project),progress:Math.floor((e.progress*r+A(t))/(r+1)),anyImportFailed:e.anyImportFailed||!!t.progress.isApiOperationFailed}},{projects:[],progress:0,anyImportFailed:!1}),n=r.projects,o=r.progress;w.setAttribute("stroke-dasharray",c*o/100+" "+c*(100-o)/100),b.classList.toggle("importsDone",o>=100),b.classList.toggle("importsFailed",r.anyImportFailed),t[0]&&t[0].source&&(P.textContent=t[0].source),1===n.length?(x.textContent=n[0].name,t.forEach(E(y))):(x.textContent="Zeplin",n.forEach(C),t.forEach(E()))}function S(){n.a.ipcRenderer.on(u,Object(o.a)(O)),n.a.ipcRenderer.send(d)}function T(){k.classList.add("hidden")}function q(e){e.forEach(function(e){e.remove()})}function _(e){e.stopPropagation(),"height"===e.propertyName&&e.target.remove()}n.a&&n.a.ipcRenderer&&(n.a.ipcRenderer.on(l,function(){j.classList.add("hidden"),B.classList.add("hidden"),b.classList.remove("hidden"),i?(n.a.ipcRenderer.once("active",function(e,t){k.classList.toggle("hidden",!t)}),n.a.ipcRenderer.sendToHost("active")):k.classList.remove("hidden")}),k.addEventListener("click",function(e){e.stopPropagation();var t=e.target.closest(".importProgress");t&&(t.classList.contains("importProgressDone")?function(e,t){T(),location.assign("/project/"+e+"/screen/"+t)}(t.dataset.projectId,t.dataset.screenId):e.target.classList.contains("retryImport")?function(e){n.a.ipcRenderer.send(g,e)}(e.target.parentElement.dataset.screenImportId):e.target.classList.contains("cancelImport")?function(e){n.a.ipcRenderer.send(m,e)}(e.target.parentElement.dataset.screenImportId):e.target.classList.contains("retryFetchProject")&&function(e){n.a.ipcRenderer.send(f,e)}(e.target.parentElement.parentElement.dataset.screenImportId))}),b.addEventListener("click",function(e){e.stopPropagation(),j.classList.add("hidden"),B.classList.add("hidden"),k.classList.toggle("hidden")}),y.addEventListener("transitionend",function(e){e.stopPropagation(),y.classList.remove("resize"),y.style.transitionDuration="";var t=k.querySelectorAll(".importProgress"),r=k.querySelectorAll(".importProgress.hidden");0!==t.length&&r.length!==t.length||(k.classList.add("hidden"),b.classList.add("hidden"),b.classList.remove("importsDone","importsFailed"),w.setAttribute("stroke-dasharray","0 "+c)),r.length&&q(r),S()}),L.addEventListener("click",function(e){e.preventDefault();var t=Array.from(k.querySelectorAll(".importProgress.importProgressDone, .importProgress.importProgressFailed"));if(0!==t.length){n.a.ipcRenderer.removeAllListeners(u);var r=t.reduce(function(e,t){return!function(e){var t=e.getBoundingClientRect(),r=h.getBoundingClientRect();return t.bottom>=r.top&&t.top<=r.bottom}(t)?e.hideAndRemove.push(t):e.animateAndRemove.unshift(t),e},{hideAndRemove:[],animateAndRemove:[]}),o=r.hideAndRemove,i=r.animateAndRemove,s=y.clientHeight,a=s,c=0;y.style.height=s+"px";var d=h.getBoundingClientRect();o.forEach(function(e){var t=e.getBoundingClientRect();s-=t.height,a-=e.height,y.style.height=s+"px";var r=t.bottom<d.top;e.classList.add("hidden"),r&&(h.scrollTop-=t.height)}),i.forEach(function(e){var t=e.getBoundingClientRect().height;a-=t,e.addEventListener("transitionend",_),e.style.transitionDelay=c+"ms",e.classList.add("clearImportProgress"),c+=80});var l=c-80,g=a<s,m=a<h.clientHeight-52;if(g&&m)s>h.clientHeight-52&&(y.style.height=h.clientHeight-52+"px"),y.classList.add("resize"),y.style.transitionDuration=l+150+200+"ms",y.style.height=a+"px";else y.style.height="auto",q(o),i.length>0?setTimeout(function(){S()},l+200):S();n.a.ipcRenderer.send(p)}}),document.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&T()}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&T()}),S(),Array.from(document.querySelectorAll("#importProgressesButton circle")).forEach(function(e){e.setAttribute("r",15)}),w.setAttribute("stroke-dasharray","0 "+c),window.ImportProgresses={hideImportProgressesContainer:T})},function(e,t,r){"use strict";var n;"function"==typeof window.require&&(n=window.require("electron")),t.a=n},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(4);r.n(n);var o={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},i={role:(e,t)=>"invited"===e.user.status?"invited"===t.user.status&&e.user.email<t.user.email?-1:1:"invited"===t.user.status?-1:e.role===t.role?e.user.username<t.user.username?-1:1:o[t.role]-o[e.role],date(e,t,r,n){let o=r,i=n;return t&&(o=r[t],i=n[t]),new Date(i[e])-new Date(o[e])},_property(e,t,r){let n=t,o=r;e&&(n=t[e],o=r[e]);const i=n.toLowerCase().match(/\D+|\d+/g),s=o.toLowerCase().match(/\D+|\d+/g),a=Math.min(i.length,s.length);for(var c=0;c<a;c++)if(i[c]!==s[c]){var d=parseInt(i[c],10),u=parseInt(s[c],10);return isNaN(d)||isNaN(u)?i[c]<s[c]?-1:i[c]>s[c]?1:0:d-u}return i.length-s.length}};i.created=i.date.bind(null,"created",null),i.updated=i.date.bind(null,"updated",null),i.lastUpdated=i.updated,i.naturally=i._property.bind(null,null),i.name=i._property.bind(null,"name");var s=["user","admin","owner","pawn","knight","rook","queen","king"],a={canTransferOwnership:["king","queen","rook","owner"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"],canRemoveExtensions:["king","queen","rook","knight","owner","admin","user"]};function c(e){return function(t){return a[e].indexOf(t.role)>=0}}var d={isSuperior:function(e,t,r){var n=s.indexOf(e.role),o=s.indexOf(t.role);return r&&n===o||n>o}};for(var u in a)d[u]=c(u);function l(e,t){let r;return function(...n){const o=this;r?cancelAnimationFrame(r):t&&e.apply(o,n),r=requestAnimationFrame(function(){t||e.apply(o,n),r=null})}}var p=["broccoli","car","cook","elephant","mariachi","paw","pear","rocket"],g=p.map(function(){return.95/(p.length-1)});g[p.indexOf("mariachi")]=.05;new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});Object.freeze({mdpi:1,"1x":1,web:1,unknown:1,undefined:1,hdpi:1.5,xhdpi:2,"2x":2,xxhdpi:3,"3x":3,xxxhdpi:4,"4x":4});Object.freeze({ios:/([^a-zA-Z0-9])/g,osx:/([^a-zA-Z0-9])/g,web:/([^a-zA-Z0-9-_])/g,android:/([^a-z0-9_])/g})},function(e,t,r){!function(){var t=r(5),n=r(0).utf8,o=r(6),i=r(0).bin,s=function(e,r){e.constructor==String?e=r&&"binary"===r.encoding?i.stringToBytes(e):n.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var a=t.bytesToWords(e),c=8*e.length,d=1732584193,u=-271733879,l=-1732584194,p=271733878,g=0;g<a.length;g++)a[g]=16711935&(a[g]<<8|a[g]>>>24)|4278255360&(a[g]<<24|a[g]>>>8);a[c>>>5]|=128<<c%32,a[14+(c+64>>>9<<4)]=c;var m=s._ff,f=s._gg,h=s._hh,y=s._ii;for(g=0;g<a.length;g+=16){var v=d,I=u,P=l,x=p;u=y(u=y(u=y(u=y(u=h(u=h(u=h(u=h(u=f(u=f(u=f(u=f(u=m(u=m(u=m(u=m(u,l=m(l,p=m(p,d=m(d,u,l,p,a[g+0],7,-680876936),u,l,a[g+1],12,-389564586),d,u,a[g+2],17,606105819),p,d,a[g+3],22,-1044525330),l=m(l,p=m(p,d=m(d,u,l,p,a[g+4],7,-176418897),u,l,a[g+5],12,1200080426),d,u,a[g+6],17,-1473231341),p,d,a[g+7],22,-45705983),l=m(l,p=m(p,d=m(d,u,l,p,a[g+8],7,1770035416),u,l,a[g+9],12,-1958414417),d,u,a[g+10],17,-42063),p,d,a[g+11],22,-1990404162),l=m(l,p=m(p,d=m(d,u,l,p,a[g+12],7,1804603682),u,l,a[g+13],12,-40341101),d,u,a[g+14],17,-1502002290),p,d,a[g+15],22,1236535329),l=f(l,p=f(p,d=f(d,u,l,p,a[g+1],5,-165796510),u,l,a[g+6],9,-1069501632),d,u,a[g+11],14,643717713),p,d,a[g+0],20,-373897302),l=f(l,p=f(p,d=f(d,u,l,p,a[g+5],5,-701558691),u,l,a[g+10],9,38016083),d,u,a[g+15],14,-660478335),p,d,a[g+4],20,-405537848),l=f(l,p=f(p,d=f(d,u,l,p,a[g+9],5,568446438),u,l,a[g+14],9,-1019803690),d,u,a[g+3],14,-187363961),p,d,a[g+8],20,1163531501),l=f(l,p=f(p,d=f(d,u,l,p,a[g+13],5,-1444681467),u,l,a[g+2],9,-51403784),d,u,a[g+7],14,1735328473),p,d,a[g+12],20,-1926607734),l=h(l,p=h(p,d=h(d,u,l,p,a[g+5],4,-378558),u,l,a[g+8],11,-2022574463),d,u,a[g+11],16,1839030562),p,d,a[g+14],23,-35309556),l=h(l,p=h(p,d=h(d,u,l,p,a[g+1],4,-1530992060),u,l,a[g+4],11,1272893353),d,u,a[g+7],16,-155497632),p,d,a[g+10],23,-1094730640),l=h(l,p=h(p,d=h(d,u,l,p,a[g+13],4,681279174),u,l,a[g+0],11,-358537222),d,u,a[g+3],16,-722521979),p,d,a[g+6],23,76029189),l=h(l,p=h(p,d=h(d,u,l,p,a[g+9],4,-640364487),u,l,a[g+12],11,-421815835),d,u,a[g+15],16,530742520),p,d,a[g+2],23,-995338651),l=y(l,p=y(p,d=y(d,u,l,p,a[g+0],6,-198630844),u,l,a[g+7],10,1126891415),d,u,a[g+14],15,-1416354905),p,d,a[g+5],21,-57434055),l=y(l,p=y(p,d=y(d,u,l,p,a[g+12],6,1700485571),u,l,a[g+3],10,-1894986606),d,u,a[g+10],15,-1051523),p,d,a[g+1],21,-2054922799),l=y(l,p=y(p,d=y(d,u,l,p,a[g+8],6,1873313359),u,l,a[g+15],10,-30611744),d,u,a[g+6],15,-1560198380),p,d,a[g+13],21,1309151649),l=y(l,p=y(p,d=y(d,u,l,p,a[g+4],6,-145523070),u,l,a[g+11],10,-1120210379),d,u,a[g+2],15,718787259),p,d,a[g+9],21,-343485551),d=d+v>>>0,u=u+I>>>0,l=l+P>>>0,p=p+x>>>0}return t.endian([d,u,l,p])};s._ff=function(e,t,r,n,o,i,s){var a=e+(t&r|~t&n)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},s._gg=function(e,t,r,n,o,i,s){var a=e+(t&n|r&~n)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},s._hh=function(e,t,r,n,o,i,s){var a=e+(t^r^n)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},s._ii=function(e,t,r,n,o,i,s){var a=e+(r^(t|~n))+(o>>>0)+s;return(a<<i|a>>>32-i)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,r){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var n=t.wordsToBytes(s(e,r));return r&&r.asBytes?n:r&&r.asString?i.bytesToString(n):t.bytesToHex(n)}}()},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?r.push(t.charAt(o>>>6*(3-i)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}};e.exports=r}()},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}}]);
//# sourceMappingURL=maps/importProgresses.map.js