
<mat-spinner *ngIf="spin" class="mx-auto"></mat-spinner>

<div *ngIf="this.dialogStep === 0">
  <!--<button class="dialog-close mb-3" mat-dialog-close>-->
    <!--<i class="fa fa-times"></i>-->
  <!--</button>-->

  <i class="fa fa fa-times pointer mb-3" (click)="onCloseClicked()"  aria-hidden="true"></i>

  <!--<p mat-dialog-title>{{ feedback.employee.firstName + ' ' + feedback.employee.lastName }}</p>-->
  <p class="h4">{{ feedback.employee.firstName + ' ' + feedback.employee.lastName }}</p>
  <hr>

<div class="row h6">

  <div class="col-md-4">
    <span>תז:</span>
    <span>{{ feedback.employee.identityNumber }} </span>
  </div>
  <div class="col-md-6">
    <span>חברה מנהלת:</span>
    <span>{{ feedback.product.manufacturer.name }} </span>
  </div>
</div>
<div class="row h6">
  <div class="col-md-4">
    <span>שכר:</span>
    <span>{{ feedback.Salary }} &#8362;</span>
  </div>
  <div class="col-md-6">
    <span>סוג מוצר:</span>
    <span>{{getEnumLabel(feedback.product.productType,'productType')}}</span>
  </div>
</div>
  <div mat-dialog-content>
    <table class="table table-bordered table-striped">
      <thead>
      <tr>
        <th>סעיף</th>
        <th>סכום</th>
        <th>סטאטוס</th>
        <th>סוג שגיאה</th>
        <th>פרטים</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let error of feedback.recordStatus">
        <!--<td>{{ error.clause }}</td>-->
        <!--<td>{{ error.SumTotal }}</td>-->
        <!--<td>{{ error.type }}</td>-->
        <!--<td>{{ error.details }}</td>-->
        <td>{{ error.Key }}</td>
        <td>{{ error.Value.sum }}</td>
        <td>{{ error.Value.recordStatusText }}</td>
        <td>{{ error.Value.payErrorTypeText }}</td>
        <td>{{ error.Value.remark }}</td>
      </tr>
      </tbody>
    </table>

    <div class="row text-center mt-5" style="float: left">
      <div class="col">
        <button class="btn btn-primary mb-1" (click)="setDialogStep(2)">שלח פניה </button>
      </div>
    </div>

    <!--<div class="d-flex">-->
      <!--<mat-form-field class="w-75 ml-3">-->
        <!--<textarea matInput placeholder="הערות"></textarea>-->
      <!--</mat-form-field>-->
      <!--<div class="w-25 d-flex justify-content-center align-items-center flex-column">-->
      <!--<button class="btn btn-primary mb-1">פניה לקופה</button>-->
      <!--<button class="btn btn-primary">פניה לסוכן</button>-->
      <!--</div>-->
    <!--</div>-->


  </div>
</div>

<app-feedback-employee-application *ngIf="(this.dialogStep === 1 || this.dialogStep === 2 || this.dialogStep === 5)&&!Repeat "
                                   (closeApplication)="onCloseClicked()"
                                   [applicationType]="this.dialogStep"
                                   [feedback]="this.feedback"
                                   [employerId]="this.employerId"
                                    [files]="files"
                                     [contacts]="this.contacts"></app-feedback-employee-application>

 <app-repeat-feedback-employee-application 
 *ngIf="this.Repeat==true "
                                   (closeApplication)="onCloseClickedRepeat()"
                                   [application]="this.application"
                                 [applicationType]="this.dialogStep"
                                   [feedback]="this.feedback"
                                   [employerId]="this.employerId"
                                    [files]="files"
                                     [contacts]="this.contacts"></app-repeat-feedback-employee-application> 

